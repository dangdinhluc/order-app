@import "tailwindcss";

@theme {
    /* Brand Colors */
    --color-primary: rgb(var(--color-primary));
    --color-primary-light: rgb(var(--color-primary-light));
    --color-primary-dark: rgb(var(--color-primary-dark));

    /* Secondary / Accent */
    --color-secondary: rgb(var(--color-secondary));
    --color-secondary-light: rgb(var(--color-secondary-light));
    --color-secondary-dark: rgb(var(--color-secondary-dark));

    /* Functional Colors */
    --color-success: rgb(var(--color-success));
    --color-warning: rgb(var(--color-warning));
    --color-danger: rgb(var(--color-danger));

    /* Backgrounds */
    --color-bg-body: rgb(var(--color-bg-body));
    --color-bg-card: rgb(var(--color-bg-card));
}

/* Custom styles for Hybrid POS */
:root {
    /* Brand Colors */
    --color-primary: 37 99 235;      /* blue-600 */
    --color-primary-light: 96 165 250; /* blue-400 */
    --color-primary-dark: 29 78 216;   /* blue-700 */

    /* Secondary / Accent */
    --color-secondary: 249 115 22;   /* orange-500 */
    --color-secondary-light: 251 146 60; /* orange-400 */
    --color-secondary-dark: 194 65 12;   /* orange-700 */

    /* Functional Colors */
    --color-success: 16 185 129;     /* emerald-500 */
    --color-warning: 245 158 11;     /* amber-500 */
    --color-danger: 239 68 68;       /* red-500 */

    /* Backgrounds */
    --color-bg-body: 248 250 252;    /* slate-50 */
    --color-bg-card: 255 255 255;    /* white */

    font-family: 'Inter', 'Noto Sans JP', system-ui, sans-serif;
}

/* Dark Mode Tokens (Future proofing) */
.dark {
    --color-bg-body: 15 23 42;       /* slate-900 */
    --color-bg-card: 30 41 59;       /* slate-800 */
}

/* Apply variables to Tailwind classes */
@layer base {
    body {
        @apply bg-[rgb(var(--color-bg-body))] text-slate-900;
    }
}

/* Customer Menu V2 - Dark Theme (BBQ/Sushi Style) */
.customer-dark {
    --customer-bg-primary: #0f0f0f;
    --customer-bg-secondary: #1a1a1a;
    --customer-bg-card: #262626;
    --customer-text-primary: #ffffff;
    --customer-text-secondary: #a1a1aa;
    --customer-accent-gold: #fbbf24;
    --customer-accent-red: #ef4444;
    --customer-border: #333333;
}

.customer-dark {
    background-color: var(--customer-bg-primary);
    color: var(--customer-text-primary);
}

/* Fly-to-cart animation keyframes */
@keyframes flyToCart {
    0% {
        transform: scale(1) translate(0, 0);
        opacity: 1;
    }

    50% {
        transform: scale(0.5) translate(50px, -100px);
        opacity: 0.8;
    }

    100% {
        transform: scale(0) translate(100px, -200px);
        opacity: 0;
    }
}

.animate-fly-to-cart {
    animation: flyToCart 0.5s ease-in forwards;
}

/* Glassmorphism Utilities */
.glass {
    background: rgba(30, 30, 30, 0.6);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.08);
}

.glass-card {
    background: rgba(40, 40, 40, 0.4);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}

/* Hide scrollbar but keep functionality */
.no-scrollbar {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
}

.no-scrollbar::-webkit-scrollbar {
    display: none;
    /* Chrome, Safari, Opera */
}

/* Scrollbar hide for Tailwind compatibility */
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

/* Horizontal scroll with fade indicators */
.scroll-fade {
    mask-image: linear-gradient(to right,
            transparent,
            black 20px,
            black calc(100% - 20px),
            transparent);
    -webkit-mask-image: linear-gradient(to right,
            transparent,
            black 20px,
            black calc(100% - 20px),
            transparent);
}

/* iOS momentum scrolling - critical for smooth scroll on mobile Safari */
.touch-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
}

/* Apply touch scroll to elements with overflow */
[style*="overflow"],
.overflow-y-auto,
.overflow-x-auto,
.overflow-auto {
    -webkit-overflow-scrolling: touch;
}

/* Safe area for mobile with notches */
.safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 20px);
}

.safe-area-top {
    padding-top: env(safe-area-inset-top, 0);
}

body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(139, 92, 246, 0.5);
}

/* Full height layouts */
html,
body,
#root {
    height: 100%;
}

/* ============================================
   MOBILE VIEWPORT FIXES (iOS Safari Keyboard Bug)
   ============================================ */

/* Use dynamic viewport height to handle iOS Safari keyboard properly */
@supports (height: 100dvh) {

    html,
    body,
    #root {
        height: 100dvh;
        min-height: 100dvh;
    }
}

/* Prevent iOS zoom on input focus */
input,
textarea,
select {
    font-size: 16px !important;
}

/* Prevent body scroll when modals are open (iOS fix) */
body.modal-open {
    position: fixed;
    width: 100%;
    overflow: hidden;
}

/* iOS safe area insets for full-screen apps */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
    .sticky-bottom {
        padding-bottom: calc(env(safe-area-inset-bottom) + 1rem);
    }
}

/* Animations */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-slide-in {
    animation: slideIn 0.3s ease-out;
}

/* Loading spinner */
.loading-spinner {
    border: 3px solid rgba(139, 92, 246, 0.2);
    border-top-color: #8b5cf6;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Touch-friendly buttons */
@media (pointer: coarse) {
    button {
        min-height: 44px;
    }
}

/* Print styles */
@media print {
    .no-print {
        display: none !important;
    }
}

/* ============================================
   CUSTOMER MENU ENHANCEMENTS
   ============================================ */

/* 1. Pulse effect for add buttons */
@keyframes pulse-glow {

    0%,
    100% {
        box-shadow: 0 0 0 0 rgba(251, 191, 36, 0.4);
    }

    50% {
        box-shadow: 0 0 20px 10px rgba(251, 191, 36, 0.2);
    }
}

.btn-pulse:hover {
    animation: pulse-glow 1.5s ease-in-out infinite;
}

/* 2. Confetti animation */
@keyframes confetti-fall {
    0% {
        transform: translateY(-10px) rotate(0deg);
        opacity: 1;
    }

    100% {
        transform: translateY(100px) rotate(720deg);
        opacity: 0;
    }
}

.confetti-particle {
    position: fixed;
    pointer-events: none;
    animation: confetti-fall 1s ease-out forwards;
    z-index: 9999;
}

/* 3. Shimmer skeleton loading */
@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

.skeleton-shimmer {
    background: linear-gradient(90deg,
            rgba(255, 255, 255, 0.05) 0%,
            rgba(255, 255, 255, 0.15) 50%,
            rgba(255, 255, 255, 0.05) 100%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

/* 4. Animated flame for HOT badges */
@keyframes flame-flicker {

    0%,
    100% {
        transform: scale(1) rotate(-2deg);
        filter: brightness(1);
    }

    25% {
        transform: scale(1.1) rotate(2deg);
        filter: brightness(1.2);
    }

    50% {
        transform: scale(1) rotate(-1deg);
        filter: brightness(1.1);
    }

    75% {
        transform: scale(1.15) rotate(1deg);
        filter: brightness(1.3);
    }
}

.flame-animate {
    animation: flame-flicker 0.5s ease-in-out infinite;
    display: inline-block;
}

/* 7. Pull to refresh indicator */
@keyframes pull-bounce {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-10px);
    }
}

.pull-indicator {
    animation: pull-bounce 0.6s ease-in-out infinite;
}

/* Swipe hint animation */
@keyframes swipe-hint {

    0%,
    100% {
        transform: translateX(0);
        opacity: 0.5;
    }

    50% {
        transform: translateX(10px);
        opacity: 1;
    }
}

.swipe-hint {
    animation: swipe-hint 1.5s ease-in-out infinite;
}

/* Success flash animation */
@keyframes success-flash {
    0% {
        background-color: rgba(34, 197, 94, 0);
    }

    50% {
        background-color: rgba(34, 197, 94, 0.3);
    }

    100% {
        background-color: rgba(34, 197, 94, 0);
    }
}

.success-flash {
    animation: success-flash 0.5s ease-out;
}

/* Stacked Cards - 3D Perspective */
.perspective-1000 {
    perspective: 1000px;
}